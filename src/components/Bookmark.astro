<button
  x-data="Bookmark"
  x-bind:class="isActive ? 'active' : 'inactive'"
  @click.prevent="handleClick($el)"
  class="bookmark px-2 pb-2 pt-1.5 rounded-md my-4">
  Bookmark</button
>

<script is:inline>
  function Bookmark() {
    return {
      init() {
        if (
          this.$store.bookmarks.list.some(
            (item) => item.id === this.$el.parentNode.id
          )
        ) {
          this.isActive = true
        }
      },
      handleClick(element) {
        this.isActive = !this.isActive
        this.updateState(element)
      },
      updateState(message) {
        this.$dispatch('update-bookmarks', {
          state: this.isActive,
          info: message,
        })
      },
      isActive: false,
    }
  }
</script>

<style>
  .active {
    @apply bg-black text-white;
  }
  .inactive {
    @apply bg-neutral-200 ring ring-neutral-300;
  }
</style>
